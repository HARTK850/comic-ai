<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>יוצר קומיקס אינטראקטיבי עם AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Rubik', sans-serif;
            background-color: #f5f7fa;
        }
        
        .comic-panel {
            min-height: 200px;
            border: 2px dashed #ccc;
            transition: all 0.3s ease;
        }
        
        .comic-panel:hover {
            border-color: #4f46e5;
        }
        
        .comic-panel.active {
            border: 2px solid #4f46e5;
            background-color: #eef2ff;
        }
        
        .drag-handle {
            cursor: move;
        }
        
        .sidebar {
            transition: all 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(100%);
                position: fixed;
                top: 0;
                right: 0;
                height: 100vh;
                z-index: 50;
                width: 80%;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* Animation for API key validation */
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-indigo-600 text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <i class="fas fa-robot text-2xl"></i>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4 space-x-reverse">
                            <a href="#" class="px-3 py-2 rounded-md text-sm font-medium bg-indigo-700">בית</a>
                            <a href="#editor" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-indigo-500">עורך קומיקס</a>
                            <a href="#api" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-indigo-500">מפתח API</a>
                            <a href="#projects" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-indigo-500">פרויקטים שלי</a>
                        </div>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-4 flex items-center md:ml-6">
                        <button class="p-1 rounded-full text-indigo-200 hover:text-white focus:outline-none">
                            <i class="fas fa-bell"></i>
                        </button>
                        <div class="ml-3 relative">
                            <div>
                                <button id="user-menu" class="max-w-xs flex items-center text-sm rounded-full focus:outline-none">
                                    <span class="ml-3 mr-2">אורח</span>
                                    <img class="h-8 w-8 rounded-full" src="https://ui-avatars.com/api/?name=אורח&background=random" alt="">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-indigo-200 hover:text-white hover:bg-indigo-500 focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div class="hidden md:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 space-y-reverse">
                <a href="#" class="block px-3 py-2 rounded-md text-base font-medium bg-indigo-700 text-white">בית</a>
                <a href="#editor" class="block px-3 py-2 rounded-md text-base font-medium text-indigo-200 hover:bg-indigo-500 hover:text-white">עורך קומיקס</a>
                <a href="#api" class="block px-3 py-2 rounded-md text-base font-medium text-indigo-200 hover:bg-indigo-500 hover:text-white">מפתח API</a>
                <a href="#projects" class="block px-3 py-2 rounded-md text-base font-medium text-indigo-200 hover:bg-indigo-500 hover:text-white">פרויקטים שלי</a>
            </div>
            <div class="pt-4 pb-3 border-t border-indigo-700">
                <div class="flex items-center px-5">
                    <div class="flex-shrink-0">
                        <img class="h-10 w-10 rounded-full" src="https://ui-avatars.com/api/?name=אורח&background=random" alt="">
                    </div>
                    <div class="mr-3">
                        <div class="text-base font-medium text-white">אורח</div>
                    </div>
                </div>
                <div class="mt-3 px-2 space-y-1">
                    <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-indigo-200 hover:text-white hover:bg-indigo-500">החשבון שלי</a>
                    <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-indigo-200 hover:text-white hover:bg-indigo-500">התנתק</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <!-- Hero Section -->
        <section class="text-center py-12 px-4">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">יוצר קומיקס עם AI</h1>
            <p class="text-xl text-gray-600 mb-8">הפוך את הסיפורים שלך לקומיקס מרהיב בעזרת בינה מלאכותית</p>
            <div class="flex justify-center gap-4">
                <button id="start-editor" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300">
                    התחל ליצור
                </button>
                <button class="bg-white hover:bg-gray-100 text-indigo-600 font-bold py-3 px-6 border border-indigo-600 rounded-lg transition duration-300">
                    צפה בדוגמאות
                </button>
            </div>
        </section>

        <!-- API Key Section -->
        <section id="api" class="bg-white shadow rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">הגדרת מפתח API של Gemini AI</h2>
            <div class="mb-4">
                <label for="api-key" class="block text-sm font-medium text-gray-700 mb-2">מפתח API</label>
                <div class="mt-1 relative rounded-md shadow-sm">
                    <input type="password" id="api-key" name="api-key" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md p-2 border" placeholder="הכנס את מפתח ה-API שלך">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-key text-gray-400"></i>
                    </div>
                </div>
                <p class="mt-2 text-sm text-gray-500">אנחנו מצפינים את המפתח שלך ומשתמשים בו רק כדי לתקשר עם Gemini AI.</p>
            </div>
            <div class="flex items-center">
                <button id="validate-api" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md flex items-center">
                    <span id="validate-text">בדוק מפתח</span>
                    <span id="validate-spinner" class="hidden ml-2">
                        <i class="fas fa-circle-notch fa-spin"></i>
                    </span>
                </button>
                <div id="api-status" class="mr-4 hidden">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"></span>
                </div>
            </div>
        </section>

        <!-- Login/Register Section -->
        <section class="bg-white shadow rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">התחברות / הרשמה</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-medium text-gray-900 mb-3">התחברות</h3>
                    <div class="mb-4">
                        <label for="login-email" class="block text-sm font-medium text-gray-700 mb-2">אימייל</label>
                        <input type="email" id="login-email" name="login-email" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                    </div>
                    <div class="mb-4">
                        <label for="login-password" class="block text-sm font-medium text-gray-700 mb-2">סיסמה</label>
                        <input type="password" id="login-password" name="login-password" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                    </div>
                    <button id="login-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md w-full">
                        התחבר
                    </button>
                </div>
                <div>
                    <h3 class="text-lg font-medium text-gray-900 mb-3">הרשמה</h3>
                    <div class="mb-4">
                        <label for="register-email" class="block text-sm font-medium text-gray-700 mb-2">אימייל</label>
                        <input type="email" id="register-email" name="register-email" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                    </div>
                    <div class="mb-4">
                        <label for="register-password" class="block text-sm font-medium text-gray-700 mb-2">סיסמה</label>
                        <input type="password" id="register-password" name="register-password" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                    </div>
                    <div class="mb-4">
                        <label for="register-confirm" class="block text-sm font-medium text-gray-700 mb-2">אימות סיסמה</label>
                        <input type="password" id="register-confirm" name="register-confirm" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                    </div>
                    <button id="register-btn" class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md w-full">
                        הירשם
                    </button>
                </div>
            </div>
        </section>

        <!-- Comic Editor Section -->
        <section id="editor" class="bg-white shadow rounded-lg p-6 mb-8 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900">עורך קומיקס</h2>
                <button id="toggle-sidebar" class="md:hidden bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-md">
                    <i class="fas fa-cog"></i> הגדרות
                </button>
            </div>
            
            <div class="flex flex-col md:flex-row gap-6">
                <!-- Main Editor Area -->
                <div class="flex-1">
                    <div class="mb-4">
                        <label for="comic-title" class="block text-sm font-medium text-gray-700 mb-2">כותרת הקומיקס</label>
                        <input type="text" id="comic-title" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border" placeholder="הכנס כותרת לקומיקס שלך">
                    </div>
                    
                    <div id="comic-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <!-- Panels will be added here dynamically -->
                        <div class="comic-panel rounded-lg p-4 flex items-center justify-center relative">
                            <div class="text-center">
                                <i class="fas fa-plus text-3xl text-gray-400 mb-2"></i>
                                <p class="text-gray-500">לחץ כדי להוסיף פנל חדש</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="add-panel" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md">
                            <i class="fas fa-plus mr-2"></i> הוסף פנל
                        </button>
                        <button id="generate-comic" class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md">
                            <i class="fas fa-magic mr-2"></i> צור קומיקס אוטומטי
                        </button>
                        <button id="download-comic" class="bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-md">
                            <i class="fas fa-download mr-2"></i> הורד קומיקס
                        </button>
                        <button id="save-project" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md">
                            <i class="fas fa-save mr-2"></i> שמור פרויקט
                        </button>
                    </div>
                </div>
                
                <!-- Sidebar Settings -->
                <div id="editor-sidebar" class="sidebar md:w-80 bg-gray-50 p-4 rounded-lg shadow">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-medium text-gray-900">הגדרות קומיקס</h3>
                        <button id="close-sidebar" class="md:hidden text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">סגנון איור</label>
                        <div class="grid grid-cols-3 gap-2">
                            <button class="art-style-btn border rounded-md p-2 hover:bg-gray-100" data-style="anime">
                                <i class="fas fa-user-ninja text-2xl mb-1"></i>
                                <span class="block text-xs">אנימה</span>
                            </button>
                            <button class="art-style-btn border rounded-md p-2 hover:bg-gray-100" data-style="realistic">
                                <i class="fas fa-portrait text-2xl mb-1"></i>
                                <span class="block text-xs">ריאליסטי</span>
                            </button>
                            <button class="art-style-btn border rounded-md p-2 hover:bg-gray-100 active" data-style="cartoon">
                                <i class="fas fa-smile-beam text-2xl mb-1"></i>
                                <span class="block text-xs">קריקטורה</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <label for="panel-layout" class="block text-sm font-medium text-gray-700 mb-2">מבנה פנלים</label>
                        <select id="panel-layout" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                            <option value="1">1 פנל</option>
                            <option value="2" selected>2 פנלים</option>
                            <option value="3">3 פנלים</option>
                            <option value="4">4 פנלים</option>
                            <option value="custom">מותאם אישית</option>
                        </select>
                    </div>
                    
                    <div class="mb-6">
                        <label for="story-input" class="block text-sm font-medium text-gray-700 mb-2">הכנס סיפור</label>
                        <textarea id="story-input" rows="5" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border" placeholder="הקלד את הסיפור שלך כאן..."></textarea>
                        <button id="split-story" class="mt-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-1 px-3 rounded-md text-sm w-full">
                            חלק לפנלים
                        </button>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">דיבוב</label>
                        <div class="flex items-center mb-2">
                            <input type="checkbox" id="enable-voice" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                            <label for="enable-voice" class="mr-2 block text-sm text-gray-700">הפעל דיבוב</label>
                        </div>
                        <div id="voice-settings" class="hidden">
                            <label for="voice-type" class="block text-sm font-medium text-gray-700 mb-2">סוג קול</label>
                            <select id="voice-type" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                                <option value="male">גבר</option>
                                <option value="female">אישה</option>
                                <option value="child">ילד</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- My Projects Section -->
        <section id="projects" class="bg-white shadow rounded-lg p-6 mb-8 hidden">
            <h2 class="text-2xl font-bold text-gray-900 mb-6">הפרויקטים שלי</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Project cards will be added here dynamically -->
                <div class="border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition duration-300">
                    <div class="bg-gray-200 h-40 flex items-center justify-center">
                        <i class="fas fa-image text-4xl text-gray-400"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="font-medium text-lg mb-1">קומיקס לדוגמה</h3>
                        <p class="text-gray-600 text-sm mb-3">נוצר ב: 01/01/2023</p>
                        <div class="flex justify-between">
                            <button class="text-indigo-600 hover:text-indigo-800 text-sm font-medium">
                                <i class="fas fa-edit mr-1"></i> ערוך
                            </button>
                            <button class="text-red-600 hover:text-red-800 text-sm font-medium">
                                <i class="fas fa-trash mr-1"></i> מחק
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="no-projects" class="text-center py-10">
                <i class="fas fa-folder-open text-4xl text-gray-400 mb-3"></i>
                <h3 class="text-lg font-medium text-gray-700">אין פרויקטים שמורים</h3>
                <p class="text-gray-500 mt-1">התחל פרויקט חדש בעורך הקומיקס</p>
            </div>
        </section>

        <!-- Feedback Section -->
        <section class="bg-white shadow rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">משוב ודירוג</h2>
            <div class="mb-4">
                <label for="feedback-rating" class="block text-sm font-medium text-gray-700 mb-2">דרג את החוויה שלך</label>
                <div class="flex space-x-1 space-x-reverse">
                    <button class="rating-star text-gray-400 hover:text-yellow-400 text-2xl" data-rating="1">☆</button>
                    <button class="rating-star text-gray-400 hover:text-yellow-400 text-2xl" data-rating="2">☆</button>
                    <button class="rating-star text-gray-400 hover:text-yellow-400 text-2xl" data-rating="3">☆</button>
                    <button class="rating-star text-gray-400 hover:text-yellow-400 text-2xl" data-rating="4">☆</button>
                    <button class="rating-star text-gray-400 hover:text-yellow-400 text-2xl" data-rating="5">☆</button>
                </div>
            </div>
            <div class="mb-4">
                <label for="feedback-comment" class="block text-sm font-medium text-gray-700 mb-2">משוב</label>
                <textarea id="feedback-comment" rows="3" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border" placeholder="מה דעתך על הכלי שלנו?"></textarea>
            </div>
            <button id="submit-feedback" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md">
                שלח משוב
            </button>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-medium mb-4">יוצר קומיקס עם AI</h3>
                    <p class="text-gray-400">הפוך את הסיפורים שלך לקומיקס מרהיב בעזרת בינה מלאכותית.</p>
                </div>
                <div>
                    <h3 class="text-lg font-medium mb-4">קישורים מהירים</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">בית</a></li>
                        <li><a href="#editor" class="text-gray-400 hover:text-white">עורך קומיקס</a></li>
                        <li><a href="#api" class="text-gray-400 hover:text-white">מפתח API</a></li>
                        <li><a href="#projects" class="text-gray-400 hover:text-white">פרויקטים שלי</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-medium mb-4">יצירת קשר</h3>
                    <p class="text-gray-400 mb-2"><i class="fas fa-envelope mr-2"></i> y15761576@gmail.com</p>
                    <div class="flex space-x-4 space-x-reverse">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>© 2023 יוצר קומיקס עם AI. כל הזכויות שמורות.</p>
            </div>
        </div>
    </footer>

    <!-- Admin Modal (hidden by default) -->
    <div id="admin-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>
            
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">ניהול מערכת - סטטיסטיקות</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="font-medium text-gray-700 mb-2">סטטיסטיקות משתמשים</h4>
                                    <div class="space-y-2">
                                        <p class="text-sm">משתמשים רשומים: <span class="font-medium" id="total-users">0</span></p>
                                        <p class="text-sm">משתמשים פעילים (30 יום): <span class="font-medium" id="active-users">0</span></p>
                                    </div>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="font-medium text-gray-700 mb-2">סטטיסטיקות קומיקס</h4>
                                    <div class="space-y-2">
                                        <p class="text-sm">סה"כ קומיקס שנוצרו: <span class="font-medium" id="total-comics">0</span></p>
                                        <p class="text-sm">קומיקס בחודש האחרון: <span class="font-medium" id="monthly-comics">0</span></p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <h4 class="font-medium text-gray-700 mb-2">דירוג ממוצע: <span id="avg-rating" class="text-yellow-500">0</span></h4>
                                <div class="flex items-center">
                                    <div class="flex space-x-1 space-x-reverse">
                                        <span id="star-1" class="text-gray-400 text-xl">☆</span>
                                        <span id="star-2" class="text-gray-400 text-xl">☆</span>
                                        <span id="star-3" class="text-gray-400 text-xl">☆</span>
                                        <span id="star-4" class="text-gray-400 text-xl">☆</span>
                                        <span id="star-5" class="text-gray-400 text-xl">☆</span>
                                    </div>
                                    <span class="text-sm text-gray-500 mr-2">(<span id="total-feedbacks">0</span> דירוגים)</span>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label for="admin-email" class="block text-sm font-medium text-gray-700 mb-2">שלח דוח למייל</label>
                                <input type="email" id="admin-email" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border" value="y15761576@gmail.com">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button id="send-report" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm">
                        שלח דוח
                    </button>
                    <button id="close-admin-modal" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                        סגור
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Notification -->
    <div id="success-notification" class="fixed bottom-4 left-4 bg-green-500 text-white px-4 py-2 rounded-md shadow-lg hidden z-50">
        <div class="flex items-center">
            <i class="fas fa-check-circle mr-2"></i>
            <span id="success-message">הפעולה בוצעה בהצלחה!</span>
        </div>
    </div>

    <!-- Error Notification -->
    <div id="error-notification" class="fixed bottom-4 left-4 bg-red-500 text-white px-4 py-2 rounded-md shadow-lg hidden z-50">
        <div class="flex items-center">
            <i class="fas fa-exclamation-circle mr-2"></i>
            <span id="error-message">אירעה שגיאה. נסה שוב.</span>
        </div>
    </div>

    <script>
        // DOM Elements
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const userMenu = document.getElementById('user-menu');
        const startEditor = document.getElementById('start-editor');
        const editorSection = document.getElementById('editor');
        const projectsSection = document.getElementById('projects');
        const validateApi = document.getElementById('validate-api');
        const apiKey = document.getElementById('api-key');
        const apiStatus = document.getElementById('api-status');
        const validateText = document.getElementById('validate-text');
        const validateSpinner = document.getElementById('validate-spinner');
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const toggleSidebar = document.getElementById('toggle-sidebar');
        const editorSidebar = document.getElementById('editor-sidebar');
        const closeSidebar = document.getElementById('close-sidebar');
        const addPanel = document.getElementById('add-panel');
        const comicContainer = document.getElementById('comic-container');
        const generateComic = document.getElementById('generate-comic');
        const downloadComic = document.getElementById('download-comic');
        const saveProject = document.getElementById('save-project');
        const artStyleBtns = document.querySelectorAll('.art-style-btn');
        const panelLayout = document.getElementById('panel-layout');
        const storyInput = document.getElementById('story-input');
        const splitStory = document.getElementById('split-story');
        const enableVoice = document.getElementById('enable-voice');
        const voiceSettings = document.getElementById('voice-settings');
        const comicTitle = document.getElementById('comic-title');
        const noProjects = document.getElementById('no-projects');
        const ratingStars = document.querySelectorAll('.rating-star');
        const submitFeedback = document.getElementById('submit-feedback');
        const adminModal = document.getElementById('admin-modal');
        const closeAdminModal = document.getElementById('close-admin-modal');
        const sendReport = document.getElementById('send-report');
        const successNotification = document.getElementById('success-notification');
        const errorNotification = document.getElementById('error-notification');
        
        // State
        let currentUser = null;
        let apiKeyValid = false;
        let currentArtStyle = 'cartoon';
        let currentRating = 0;
        let panels = [];
        
        // Event Listeners
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        startEditor.addEventListener('click', () => {
            editorSection.classList.remove('hidden');
            projectsSection.classList.add('hidden');
            window.scrollTo(0, editorSection.offsetTop);
        });
        
        validateApi.addEventListener('click', () => {
            const key = apiKey.value.trim();
            
            if (!key) {
                showError('נא להזין מפתח API');
                return;
            }
            
            // Show loading state
            validateText.textContent = 'בודק...';
            validateSpinner.classList.remove('hidden');
            validateApi.disabled = true;
            
            // Simulate API validation (in a real app, this would be an actual API call)
            setTimeout(() => {
                // Randomly decide if the key is valid for demo purposes
                const isValid = Math.random() > 0.3;
                
                validateApi.disabled = false;
                validateSpinner.classList.add('hidden');
                validateText.textContent = 'בדוק מפתח';
                
                if (isValid) {
                    apiKeyValid = true;
                    apiStatus.classList.remove('hidden');
                    apiStatus.querySelector('span').textContent = 'מפתח תקין';
                    apiStatus.querySelector('span').classList.add('bg-green-100', 'text-green-800');
                    showSuccess('המפתח אומת בהצלחה!');
                } else {
                    apiKeyValid = false;
                    apiStatus.classList.remove('hidden');
                    apiStatus.querySelector('span').textContent = 'מפתח לא תקין';
                    apiStatus.querySelector('span').classList.add('bg-red-100', 'text-red-800');
                    showError('מפתח API לא תקין. נסה מפתח אחר.');
                }
            }, 1500);
        });
        
        loginBtn.addEventListener('click', () => {
            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value.trim();
            
            if (!email || !password) {
                showError('נא למלא את כל השדות');
                return;
            }
            
            // Simulate login
            currentUser = {
                email: email,
                name: email.split('@')[0]
            };
            
            showSuccess('התחברת בהצלחה!');
            updateUserUI();
        });
        
        registerBtn.addEventListener('click', () => {
            const email = document.getElementById('register-email').value.trim();
            const password = document.getElementById('register-password').value.trim();
            const confirm = document.getElementById('register-confirm').value.trim();
            
            if (!email || !password || !confirm) {
                showError('נא למלא את כל השדות');
                return;
            }
            
            if (password !== confirm) {
                showError('הסיסמאות לא תואמות');
                return;
            }
            
            // Simulate registration
            currentUser = {
                email: email,
                name: email.split('@')[0]
            };
            
            showSuccess('נרשמת בהצלחה! כעת אתה מחובר.');
            updateUserUI();
        });
        
        toggleSidebar.addEventListener('click', () => {
            editorSidebar.classList.add('open');
        });
        
        closeSidebar.addEventListener('click', () => {
            editorSidebar.classList.remove('open');
        });
        
        addPanel.addEventListener('click', () => {
            addNewPanel();
        });
        
        panelLayout.addEventListener('change', (e) => {
            const layout = e.target.value;
            
            if (layout === 'custom') {
                // Allow custom panel addition
                return;
            }
            
            // Clear existing panels
            comicContainer.innerHTML = '';
            
            // Add specified number of panels
            for (let i = 0; i < parseInt(layout); i++) {
                addNewPanel();
            }
        });
        
        artStyleBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                artStyleBtns.forEach(b => b.classList.remove('active', 'bg-indigo-100', 'border-indigo-300'));
                btn.classList.add('active', 'bg-indigo-100', 'border-indigo-300');
                currentArtStyle = btn.dataset.style;
            });
        });
        
        enableVoice.addEventListener('change', () => {
            if (enableVoice.checked) {
                voiceSettings.classList.remove('hidden');
            } else {
                voiceSettings.classList.add('hidden');
            }
        });
        
        splitStory.addEventListener('click', () => {
            const story = storyInput.value.trim();
            
            if (!story) {
                showError('נא להזין סיפור לחלוקה');
                return;
            }
            
            // Clear existing panels
            comicContainer.innerHTML = '';
            
            // Split story into sentences (simple split for demo)
            const sentences = story.split(/[.!?]+/).filter(s => s.trim().length > 0);
            
            // Create panels for each sentence
            sentences.forEach((sentence, index) => {
                if (index < 4) { // Limit to 4 panels for demo
                    addNewPanel(sentence.trim());
                }
            });
            
            if (sentences.length === 0) {
                addNewPanel();
            }
            
            showSuccess('הסיפור חולק לפנלים בהצלחה!');
        });
        
        generateComic.addEventListener('click', () => {
            if (!apiKeyValid) {
                showError('נא להזין מפתח API תקין תחילה');
                return;
            }
            
            if (!currentUser) {
                showError('נא להתחבר כדי ליצור קומיקס אוטומטי');
                return;
            }
            
            const title = comicTitle.value.trim() || 'קומיקס ללא כותרת';
            
            // Show loading state
            generateComic.innerHTML = '<i class="fas fa-circle-notch fa-spin mr-2"></i> יוצר קומיקס...';
            generateComic.disabled = true;
            
            // Simulate AI comic generation
            setTimeout(() => {
                // Clear existing panels
                comicContainer.innerHTML = '';
                
                // Add generated panels
                const generatedPanels = [
                    'גיבור העל עומד על גג בניין גבוה, מביט אל העיר למטה.',
                    'פיצוץ ענק מתרחש במרכז העיר, אנשים בורחים בבהלה.',
                    'הגיבור קופץ מהגג, מתכונן לעצור את הפושעים.',
                    'הגיבור מנצח את הרעים ומציל את העיר.'
                ];
                
                generatedPanels.forEach(panelText => {
                    addNewPanel(panelText);
                });
                
                comicTitle.value = title;
                showSuccess('הקומיקס נוצר בהצלחה!');
                
                generateComic.innerHTML = '<i class="fas fa-magic mr-2"></i> צור קומיקס אוטומטי';
                generateComic.disabled = false;
            }, 2000);
        });
        
        downloadComic.addEventListener('click', () => {
            if (panels.length === 0) {
                showError('נא ליצור קומיקס לפני הורדה');
                return;
            }
            
            // In a real app, this would generate an actual image
            showSuccess('הקומיקס הורד למכשיר שלך! (סימולציה)');
        });
        
        saveProject.addEventListener('click', () => {
            if (!currentUser) {
                showError('נא להתחבר כדי לשמור פרויקט');
                return;
            }
            
            if (panels.length === 0) {
                showError('נא ליצור קומיקס לפני שמירה');
                return;
            }
            
            const title = comicTitle.value.trim() || 'קומיקס ללא כותרת';
            
            // In a real app, this would save to a database
            showSuccess(`הפרויקט "${title}" נשמר בהצלחה!`);
        });
        
        ratingStars.forEach(star => {
            star.addEventListener('click', () => {
                const rating = parseInt(star.dataset.rating);
                currentRating = rating;
                
                // Update star display
                ratingStars.forEach((s, index) => {
                    if (index < rating) {
                        s.textContent = '★';
                        s.classList.add('text-yellow-400');
                        s.classList.remove('text-gray-400');
                    } else {
                        s.textContent = '☆';
                        s.classList.remove('text-yellow-400');
                        s.classList.add('text-gray-400');
                    }
                });
            });
        });
        
        submitFeedback.addEventListener('click', () => {
            const comment = document.getElementById('feedback-comment').value.trim();
            
            if (currentRating === 0) {
                showError('נא לדרג את החוויה שלך');
                return;
            }
            
            // In a real app, this would send to a server
            showSuccess('תודה על המשוב שלך!');
            
            // Reset form
            currentRating = 0;
            ratingStars.forEach(star => {
                star.textContent = '☆';
                star.classList.remove('text-yellow-400');
                star.classList.add('text-gray-400');
            });
            document.getElementById('feedback-comment').value = '';
        });
        
        // Admin functionality (hidden in UI but accessible via console for demo)
        function showAdminPanel() {
            // Update stats with random data for demo
            document.getElementById('total-users').textContent = Math.floor(Math.random() * 1000) + 50;
            document.getElementById('active-users').textContent = Math.floor(Math.random() * 500) + 20;
            document.getElementById('total-comics').textContent = Math.floor(Math.random() * 5000) + 100;
            document.getElementById('monthly-comics').textContent = Math.floor(Math.random() * 300) + 50;
            
            const avgRating = (Math.random() * 2 + 3).toFixed(1);
            document.getElementById('avg-rating').textContent = avgRating;
            document.getElementById('total-feedbacks').textContent = Math.floor(Math.random() * 200) + 30;
            
            // Show stars based on rating
            const fullStars = Math.floor(avgRating);
            const hasHalfStar = avgRating % 1 >= 0.5;
            
            for (let i = 1; i <= 5; i++) {
                const star = document.getElementById(`star-${i}`);
                if (i <= fullStars) {
                    star.textContent = '★';
                    star.classList.add('text-yellow-400');
                } else if (i === fullStars + 1 && hasHalfStar) {
                    star.textContent = '½';
                    star.classList.add('text-yellow-400');
                } else {
                    star.textContent = '☆';
                    star.classList.remove('text-yellow-400');
                }
            }
            
            adminModal.classList.remove('hidden');
        }
        
        closeAdminModal.addEventListener('click', () => {
            adminModal.classList.add('hidden');
        });
        
        sendReport.addEventListener('click', () => {
            const email = document.getElementById('admin-email').value.trim();
            
            if (!email) {
                showError('נא להזין כתובת אימייל');
                return;
            }
            
            showSuccess(`דוח ניהול נשלח ל-${email}`);
            setTimeout(() => {
                adminModal.classList.add('hidden');
            }, 1500);
        });
        
        // Helper Functions
        function addNewPanel(text = '') {
            const panelId = Date.now();
            const panelCount = comicContainer.querySelectorAll('.comic-panel').length;
            
            const panelHTML = `
                <div id="panel-${panelId}" class="comic-panel rounded-lg p-4 relative bg-white">
                    <div class="absolute top-2 left-2 drag-handle text-gray-400 hover:text-gray-600">
                        <i class="fas fa-grip-vertical"></i>
                    </div>
                    <button class="absolute top-2 right-2 text-red-400 hover:text-red-600 delete-panel">
                        <i class="fas fa-times"></i>
                    </button>
                    <div class="h-full flex flex-col">
                        <textarea class="flex-1 w-full p-2 mb-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500" placeholder="הכנס טקסט לפנל...">${text}</textarea>
                        <div class="bg-gray-100 rounded-md flex-1 flex items-center justify-center">
                            <span class="text-gray-500">תצוגה מקדימה של האיור</span>
                        </div>
                    </div>
                </div>
            `;
            
            comicContainer.insertAdjacentHTML('beforeend', panelHTML);
            panels.push(panelId);
            
            // Add event listeners to new panel
            const panel = document.getElementById(`panel-${panelId}`);
            const deleteBtn = panel.querySelector('.delete-panel');
            const dragHandle = panel.querySelector('.drag-handle');
            
            deleteBtn.addEventListener('click', () => {
                panel.remove();
                panels = panels.filter(id => id !== panelId);
            });
            
            // Simple drag functionality for demo
            dragHandle.addEventListener('mousedown', (e) => {
                panel.classList.add('active');
                let shiftX = e.clientX - panel.getBoundingClientRect().left;
                let shiftY = e.clientY - panel.getBoundingClientRect().top;
                
                function moveAt(pageX, pageY) {
                    panel.style.left = pageX - shiftX + 'px';
                    panel.style.top = pageY - shiftY + 'px';
                }
                
                function onMouseMove(e) {
                    moveAt(e.pageX, e.pageY);
                }
                
                document.addEventListener('mousemove', onMouseMove);
                
                panel.onmouseup = function() {
                    document.removeEventListener('mousemove', onMouseMove);
                    panel.onmouseup = null;
                    panel.classList.remove('active');
                };
                
                panel.style.position = 'absolute';
                panel.style.zIndex = 1000;
                moveAt(e.pageX, e.pageY);
            });
            
            panel.ondragstart = function() {
                return false;
            };
        }
        
        function updateUserUI() {
            if (currentUser) {
                const userElements = document.querySelectorAll('#user-menu span, .mobile-user-name');
                userElements.forEach(el => {
                    el.textContent = currentUser.name;
                });
                
                const userImages = document.querySelectorAll('#user-menu img, .mobile-user-img');
                userImages.forEach(img => {
                    img.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(currentUser.name)}&background=random`;
                });
                
                // Show projects section
                noProjects.classList.add('hidden');
            }
        }
        
        function showSuccess(message) {
            document.getElementById('success-message').textContent = message;
            successNotification.classList.remove('hidden');
            
            setTimeout(() => {
                successNotification.classList.add('hidden');
            }, 3000);
        }
        
        function showError(message) {
            document.getElementById('error-message').textContent = message;
            errorNotification.classList.remove('hidden');
            
            setTimeout(() => {
                errorNotification.classList.add('hidden');
            }, 3000);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Make first art style button active
            artStyleBtns[2].classList.add('active', 'bg-indigo-100', 'border-indigo-300');
            
            // For demo purposes - expose admin function to console
            window.showAdminPanel = showAdminPanel;
            console.log('לצפייה בלוח הניהול, הקלד showAdminPanel() בקונסולה');
        });
    </script>
</body>
</html>
